<!DOCTYPE html>
<html lang="zh-TW">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>班級經營數位工具箱 | Classroom Digital Toolkit</title>
    
    <!-- Fonts -->
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;600;800&family=Noto+Sans+TC:wght@300;500;700;900&display=swap" rel="stylesheet">
    <!-- Font Awesome -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    
    <!-- Tailwind CSS -->
    <script src="https://cdn.tailwindcss.com"></script>
    <script>
        tailwind.config = {
            theme: {
                extend: {
                    fontFamily: {
                        sans: ['Inter', 'Noto Sans TC', 'sans-serif'],
                    },
                    colors: {
                        neon: {
                            green: '#ccff00',
                            blue: '#00f0ff',
                            purple: '#bd00ff',
                            gray: '#1a1a1a'
                        }
                    }
                }
            }
        }
    </script>

    <!-- React & Framer Motion -->
    <script crossorigin src="https://unpkg.com/react@18/umd/react.production.min.js"></script>
    <script crossorigin src="https://unpkg.com/react-dom@18/umd/react-dom.production.min.js"></script>
    <script src="https://unpkg.com/babel-standalone@6/babel.min.js"></script>
    <script src="https://unpkg.com/framer-motion@10.16.4/dist/framer-motion.js"></script>

    <style>
        body {
            background-color: #000000;
            color: #ffffff;
            overflow-x: hidden;
        }
        
        /* Custom Scrollbar */
        ::-webkit-scrollbar {
            width: 8px;
        }
        ::-webkit-scrollbar-track {
            background: #000;
        }
        ::-webkit-scrollbar-thumb {
            background: #333;
            border-radius: 4px;
        }
        ::-webkit-scrollbar-thumb:hover {
            background: #555;
        }

        .glass-panel {
            background: rgba(26, 26, 26, 0.6);
            backdrop-filter: blur(12px);
            border: 1px solid rgba(255, 255, 255, 0.1);
        }

        .grid-bg {
            background-image: linear-gradient(rgba(255, 255, 255, 0.05) 1px, transparent 1px),
            linear-gradient(90deg, rgba(255, 255, 255, 0.05) 1px, transparent 1px);
            background-size: 40px 40px;
        }
        
        /* Utility for input styling */
        .tech-input {
            background: rgba(0, 0, 0, 0.5);
            border: 1px solid #333;
            color: #fff;
            transition: all 0.3s ease;
        }
        .tech-input:focus {
            border-color: #ccff00;
            outline: none;
            box-shadow: 0 0 15px rgba(204, 255, 0, 0.2);
        }

        /* Number badge removal animation */
        .number-badge {
            cursor: pointer;
            transition: all 0.2s;
        }
        .number-badge:hover {
            transform: scale(1.1);
            background: rgba(255, 50, 50, 0.2);
            border-color: #ff3333;
            color: #ff3333;
        }
    </style>
</head>
<body>
    <div id="root"></div>

    <script type="text/babel">
        const { useState, useEffect, useRef } = React;
        const { motion, useScroll, useTransform, AnimatePresence } = window.Motion;

        // --- Shared Components ---

        const Section = ({ children, className = "" }) => {
            return (
                <section className={`min-h-screen w-full flex flex-col justify-center items-center p-8 relative overflow-hidden border-b border-white/5 ${className}`}>
                    <div className="absolute inset-0 grid-bg pointer-events-none opacity-30"></div>
                    <div className="w-full max-w-[1600px] h-full flex flex-col relative z-10">
                        {children}
                    </div>
                </section>
            );
        };

        const BentoBox = ({ children, className = "", span = "col-span-4", delay = 0 }) => {
            return (
                <motion.div 
                    initial={{ opacity: 0, y: 50 }}
                    whileInView={{ opacity: 1, y: 0 }}
                    viewport={{ once: true, margin: "-100px" }}
                    transition={{ duration: 0.6, delay: delay, ease: "easeOut" }}
                    className={`glass-panel rounded-3xl p-8 relative overflow-hidden group ${span} ${className}`}
                >
                    {children}
                </motion.div>
            );
        };

        const Badge = ({ text, color = "border-white/20 text-white/50" }) => (
            <span className={`px-3 py-1 rounded-full border text-xs font-mono tracking-widest uppercase ${color}`}>
                {text}
            </span>
        );

        // --- Page 1: Title ---

        const TitlePage = () => {
            const { scrollY } = useScroll();
            const y1 = useTransform(scrollY, [0, 500], [0, 200]);
            const y2 = useTransform(scrollY, [0, 500], [0, -150]);

            return (
                <Section>
                    <div className="flex-1 flex flex-col justify-center items-center text-center relative">
                        <motion.div style={{ y: y2 }} className="mb-6">
                            <Badge text="Classroom Management System v2.1" color="border-neon-green/50 text-neon-green" />
                        </motion.div>
                        
                        <motion.h1 
                            initial={{ scale: 0.9, opacity: 0 }}
                            animate={{ scale: 1, opacity: 1 }}
                            transition={{ duration: 1 }}
                            className="text-[8vw] leading-none font-black tracking-tighter text-white mb-4"
                        >
                            班級經營<br/>
                            <span className="text-transparent bg-clip-text bg-gradient-to-r from-neon-green to-white">數位工具箱</span>
                        </motion.h1>

                        <motion.div style={{ y: y1 }} className="mt-8 flex gap-8 items-center">
                            <div className="text-right">
                                <p className="text-neon-green text-3xl font-bold">100%</p>
                                <p className="text-xs text-gray-500 uppercase tracking-widest">Efficiency</p>
                            </div>
                            <div className="w-px h-12 bg-white/20"></div>
                            <div className="text-left">
                                <p className="text-white text-3xl font-bold">Digital</p>
                                <p className="text-xs text-gray-500 uppercase tracking-widest">Transformation</p>
                            </div>
                        </motion.div>
                        
                        <motion.div 
                            animate={{ y: [0, 10, 0] }}
                            transition={{ repeat: Infinity, duration: 2 }}
                            className="absolute bottom-10 left-1/2 -translate-x-1/2 text-white/30"
                        >
                            <i className="fa-solid fa-chevron-down text-2xl"></i>
                        </motion.div>
                    </div>
                </Section>
            );
        };

        // --- Page 2: Executive Summary ---

        const SummaryPage = () => {
            return (
                <Section>
                    <div className="mb-12 flex items-end justify-between border-b border-white/10 pb-6">
                        <div>
                            <h2 className="text-5xl font-bold text-white mb-2">總覽</h2>
                            <p className="text-sm text-gray-400 tracking-[0.2em] uppercase">Executive Summary</p>
                        </div>
                        <i className="fa-solid fa-chart-pie text-4xl text-neon-blue opacity-50"></i>
                    </div>

                    <div className="grid grid-cols-1 md:grid-cols-12 gap-6 flex-1">
                        <BentoBox span="col-span-12 md:col-span-8" className="bg-gradient-to-br from-neon-blue/10 to-transparent">
                            <div className="h-full flex flex-col justify-between">
                                <div>
                                    <i className="fa-solid fa-bolt text-4xl text-neon-blue mb-4"></i>
                                    <h3 className="text-3xl font-bold mb-2">極致效率</h3>
                                    <p className="text-gray-400 text-lg">透過數位化工具大幅縮短課堂行政時間，將更多注意力回歸教學本質。</p>
                                </div>
                                <div className="mt-8 w-full h-32 flex items-end gap-2">
                                    {[40, 65, 50, 80, 60, 95, 85].map((h, i) => (
                                        <motion.div 
                                            key={i}
                                            initial={{ height: 0 }}
                                            whileInView={{ height: `${h}%` }}
                                            transition={{ duration: 1, delay: i * 0.1 }}
                                            className="flex-1 bg-neon-blue/40 rounded-t-sm hover:bg-neon-blue transition-colors"
                                        ></motion.div>
                                    ))}
                                </div>
                            </div>
                        </BentoBox>

                        <BentoBox span="col-span-12 md:col-span-4" delay={0.2}>
                            <div className="h-full flex flex-col justify-center items-center text-center">
                                <div className="relative size-40 mb-6">
                                    <svg className="size-full -rotate-90" viewBox="0 0 36 36">
                                        <path className="text-gray-800" d="M18 2.0845 a 15.9155 15.9155 0 0 1 0 31.831 a 15.9155 15.9155 0 0 1 0 -31.831" fill="none" stroke="currentColor" strokeWidth="2" />
                                        <motion.path 
                                            initial={{ pathLength: 0 }}
                                            whileInView={{ pathLength: 0.85 }}
                                            transition={{ duration: 2, ease: "circOut" }}
                                            className="text-neon-green" 
                                            d="M18 2.0845 a 15.9155 15.9155 0 0 1 0 31.831 a 15.9155 15.9155 0 0 1 0 -31.831" 
                                            fill="none" 
                                            stroke="currentColor" 
                                            strokeWidth="2" 
                                            strokeDasharray="100, 100" 
                                        />
                                    </svg>
                                    <div className="absolute top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2 text-3xl font-bold">
                                        85<span className="text-sm">%</span>
                                    </div>
                                </div>
                                <h3 className="text-xl font-bold">參與度提升</h3>
                                <p className="text-xs text-gray-500 mt-2 uppercase">Engagement</p>
                            </div>
                        </BentoBox>

                        <BentoBox span="col-span-12 md:col-span-4" delay={0.3}>
                            <i className="fa-solid fa-list-check text-3xl text-white mb-4"></i>
                            <h3 className="text-2xl font-bold mb-1">即時追蹤</h3>
                            <p className="text-gray-400 text-sm">Real-time Tracking</p>
                        </BentoBox>
                        
                        <BentoBox span="col-span-12 md:col-span-4" delay={0.4} className="bg-white/5">
                            <i className="fa-solid fa-shuffle text-3xl text-white mb-4"></i>
                            <h3 className="text-2xl font-bold mb-1">公平隨機</h3>
                            <p className="text-gray-400 text-sm">Fair Randomization</p>
                        </BentoBox>
                        
                        <BentoBox span="col-span-12 md:col-span-4" delay={0.5} className="border-neon-green/30">
                            <i className="fa-solid fa-check text-3xl text-neon-green mb-4"></i>
                            <h3 className="text-2xl font-bold mb-1 text-neon-green">行動導向</h3>
                            <p className="text-gray-400 text-sm">Action Oriented</p>
                        </BentoBox>
                    </div>
                </Section>
            );
        };

        // --- Page 3: Tool 1 - Randomizer ---

        const RandomizerTool = () => {
            const [inputRange, setInputRange] = useState("1,2,3,4,5,6,7,8,9,10");
            const [count, setCount] = useState(1);
            const [results, setResults] = useState([]);
            const [isAnimating, setIsAnimating] = useState(false);

            const handleRandomize = () => {
                if (!inputRange) return;
                setIsAnimating(true);
                setResults([]);

                const items = inputRange.split(/,|，/).map(s => s.trim()).filter(s => s !== "");
                
                // Simulate animation logic
                let shuffleCount = 0;
                const interval = setInterval(() => {
                    shuffleCount++;
                    const tempResults = [];
                    for(let i=0; i<count; i++) {
                        tempResults.push(items[Math.floor(Math.random() * items.length)]);
                    }
                    setResults(tempResults);

                    if (shuffleCount > 15) {
                        clearInterval(interval);
                        // Final pick
                        const shuffled = [...items].sort(() => 0.5 - Math.random());
                        setResults(shuffled.slice(0, Math.min(count, items.length)));
                        setIsAnimating(false);
                    }
                }, 100);
            };

            return (
                <Section>
                    <div className="mb-8 flex items-end justify-between border-b border-white/10 pb-4">
                        <div>
                            <h2 className="text-5xl font-bold text-white mb-2">隨機選號</h2>
                            <p className="text-sm text-gray-400 tracking-[0.2em] uppercase">Random Selector</p>
                        </div>
                        <div className="p-2 bg-neon-purple/20 rounded-lg">
                            <i className="fa-solid fa-dice text-3xl text-neon-purple"></i>
                        </div>
                    </div>

                    <div className="grid grid-cols-1 md:grid-cols-12 gap-8 flex-1">
                        {/* Control Panel */}
                        <BentoBox span="col-span-12 md:col-span-5" className="flex flex-col gap-6">
                            <div>
                                <label className="block text-xs font-bold text-neon-purple mb-2 uppercase tracking-wider">
                                    Number Pool (Comma Separated)
                                </label>
                                <textarea 
                                    value={inputRange}
                                    onChange={(e) => setInputRange(e.target.value)}
                                    className="tech-input w-full h-32 rounded-xl p-4 text-sm font-mono"
                                    placeholder="1, 2, 3..."
                                ></textarea>
                            </div>
                            
                            <div>
                                <label className="block text-xs font-bold text-neon-purple mb-2 uppercase tracking-wider">
                                    Selection Count
                                </label>
                                <div className="flex items-center gap-4">
                                    <input 
                                        type="number" 
                                        value={count}
                                        min="1"
                                        max="50"
                                        onChange={(e) => setCount(parseInt(e.target.value))}
                                        className="tech-input w-24 h-12 rounded-xl text-center text-xl font-bold"
                                    />
                                    <button 
                                        onClick={handleRandomize}
                                        className="flex-1 bg-neon-purple text-black h-12 rounded-xl font-bold hover:bg-white transition-colors uppercase tracking-widest"
                                    >
                                        Start
                                    </button>
                                </div>
                            </div>
                        </BentoBox>

                        {/* Result Display */}
                        <BentoBox span="col-span-12 md:col-span-7" className="bg-gradient-to-t from-neon-purple/5 to-transparent flex flex-col items-center justify-center min-h-[300px]">
                            <div className="flex flex-wrap gap-4 justify-center content-center">
                                <AnimatePresence>
                                    {results.map((res, idx) => (
                                        <motion.div
                                            key={idx + '-' + res}
                                            initial={{ scale: 0, rotate: -180 }}
                                            animate={{ scale: 1, rotate: 0 }}
                                            exit={{ scale: 0 }}
                                            className={`size-32 rounded-full border-4 ${isAnimating ? 'border-gray-700 text-gray-500' : 'border-neon-purple text-white shadow-[0_0_30px_rgba(189,0,255,0.4)]'} flex items-center justify-center bg-black`}
                                        >
                                            <span className="text-5xl font-black">{res}</span>
                                        </motion.div>
                                    ))}
                                </AnimatePresence>
                                {results.length === 0 && !isAnimating && (
                                    <p className="text-gray-600 uppercase tracking-widest text-sm">Waiting for input...</p>
                                )}
                            </div>
                        </BentoBox>
                    </div>
                </Section>
            );
        };

        // --- Page 4: Homework Tracker Components ---

        const ContinuousTracker = ({ defaultTitle, defaultMax }) => {
            const [taskName, setTaskName] = useState(defaultTitle);
            const [maxNum, setMaxNum] = useState(defaultMax);
            const [activeNums, setActiveNums] = useState([]);

            useEffect(() => {
                const arr = Array.from({length: parseInt(maxNum) || 0}, (_, i) => i + 1);
                setActiveNums(arr);
            }, [maxNum]);

            const removeNum = (n) => setActiveNums(prev => prev.filter(i => i !== n));

            return (
                <div className="flex flex-col h-[500px]"> {/* Fixed height for scroll safety */}
                    <div className="grid grid-cols-2 gap-4 mb-4">
                        <input 
                            type="text" 
                            value={taskName} 
                            onChange={(e) => setTaskName(e.target.value)}
                            className="tech-input px-3 py-2 rounded-lg text-lg font-bold w-full"
                            placeholder="Task Name"
                        />
                        <div className="flex items-center gap-2">
                            <span className="text-xs text-gray-400">1 ~ </span>
                            <input 
                                type="number" 
                                value={maxNum}
                                onChange={(e) => setMaxNum(e.target.value)}
                                className="tech-input px-3 py-2 rounded-lg w-20 text-center font-mono"
                            />
                        </div>
                    </div>

                    <div className="flex-1 overflow-y-auto pr-2 bg-black/20 rounded-xl p-2 border border-white/5">
                        <div className="flex justify-between items-baseline mb-2 sticky top-0 bg-black/80 backdrop-blur-sm p-1 z-10 rounded">
                             <h4 className="text-sm font-bold text-gray-300">{taskName}</h4>
                             <span className="text-neon-green text-xs font-mono">{activeNums.length} left</span>
                        </div>
                        <div className="flex flex-wrap gap-2">
                            <AnimatePresence>
                                {activeNums.map(n => (
                                    <motion.div
                                        key={n}
                                        layout
                                        initial={{ scale: 0, opacity: 0 }}
                                        animate={{ scale: 1, opacity: 1 }}
                                        exit={{ scale: 0, opacity: 0 }}
                                        onClick={() => removeNum(n)}
                                        className="number-badge size-8 rounded bg-gray-800 border border-gray-700 flex items-center justify-center font-mono font-bold text-sm hover:bg-red-900/50 hover:border-red-500 hover:text-red-500"
                                    >
                                        {n}
                                    </motion.div>
                                ))}
                            </AnimatePresence>
                            {activeNums.length === 0 && (
                                <div className="w-full text-center py-4 text-neon-green font-bold text-sm">ALL CLEAR!</div>
                            )}
                        </div>
                    </div>
                </div>
            );
        };

        const DiscreteTracker = ({ defaultTitle, defaultInput }) => {
            const [taskName, setTaskName] = useState(defaultTitle);
            const [inputStr, setInputStr] = useState(defaultInput);
            const [activeNums, setActiveNums] = useState([]);

            useEffect(() => {
                const arr = inputStr.split(/,|，/).map(s => s.trim()).filter(s => s !== "");
                setActiveNums(arr);
            }, [inputStr]);

            const removeNum = (n) => setActiveNums(prev => prev.filter(i => i !== n));

            return (
                <div className="flex flex-col h-[500px]">
                    <div className="space-y-2 mb-4">
                        <input 
                            type="text" 
                            value={taskName} 
                            onChange={(e) => setTaskName(e.target.value)}
                            className="tech-input w-full px-3 py-2 rounded-lg text-lg font-bold"
                            placeholder="Task Name"
                        />
                        <input 
                            type="text" 
                            value={inputStr}
                            onChange={(e) => setInputStr(e.target.value)}
                            className="tech-input w-full px-3 py-2 rounded-lg font-mono text-xs"
                            placeholder="2, 5, 11..."
                        />
                    </div>

                    <div className="flex-1 overflow-y-auto pr-2 bg-white/5 rounded-xl p-3 border border-white/5">
                        <div className="flex justify-between items-baseline mb-2 sticky top-0 bg-black/80 backdrop-blur-sm p-1 z-10 rounded">
                             <h4 className="text-sm font-bold text-gray-300">{taskName}</h4>
                             <span className="text-neon-blue text-xs font-mono">{activeNums.length} left</span>
                        </div>
                        <div className="flex flex-wrap gap-2">
                            <AnimatePresence>
                                {activeNums.map((n, idx) => (
                                    <motion.div
                                        key={`${n}-${idx}`}
                                        layout
                                        initial={{ scale: 0 }}
                                        animate={{ scale: 1 }}
                                        exit={{ scale: 0, opacity: 0 }}
                                        onClick={() => removeNum(n)}
                                        className="number-badge px-3 py-1 rounded bg-gray-900 border border-neon-blue/30 text-neon-blue flex items-center justify-center font-mono font-bold text-base"
                                    >
                                        {n}
                                    </motion.div>
                                ))}
                            </AnimatePresence>
                             {activeNums.length === 0 && (
                                <div className="w-full text-center py-4 text-neon-blue font-bold text-sm">ALL CLEAR!</div>
                            )}
                        </div>
                    </div>
                </div>
            );
        };

        const HomeworkTool = () => {
            return (
                <Section>
                    <div className="mb-8 flex items-end justify-between border-b border-white/10 pb-4">
                        <div>
                            <h2 className="text-5xl font-bold text-white mb-2">作業缺交追蹤</h2>
                            <p className="text-sm text-gray-400 tracking-[0.2em] uppercase">Homework Tracker</p>
                        </div>
                        <div className="p-2 bg-neon-green/20 rounded-lg">
                            <i className="fa-solid fa-clipboard-check text-3xl text-neon-green"></i>
                        </div>
                    </div>

                    <div className="grid grid-cols-1 md:grid-cols-12 gap-6 w-full flex-1">
                        
                        {/* Part 1: Continuous */}
                        <BentoBox span="col-span-12 md:col-span-6" className="flex flex-col gap-6">
                            <div className="flex items-center justify-between">
                                <Badge text="Continuous Mode" color="border-neon-green/50 text-neon-green" />
                                <div className="text-xs text-gray-500">Click to Mark as Done</div>
                            </div>
                            
                            {/* Tracker 1 */}
                            <ContinuousTracker defaultTitle="作業項目 A" defaultMax={30} />
                            
                            <div className="w-full h-px bg-white/10"></div>
                            
                            {/* Tracker 2 */}
                            <ContinuousTracker defaultTitle="作業項目 B" defaultMax={30} />

                        </BentoBox>

                        {/* Part 2: Discrete */}
                        <BentoBox span="col-span-12 md:col-span-6" className="flex flex-col gap-6 border-l border-white/10">
                             <div className="flex items-center justify-between">
                                <Badge text="Discrete Mode" color="border-neon-blue/50 text-neon-blue" />
                                <div className="text-xs text-gray-500">Click to Mark as Done</div>
                            </div>

                            {/* Tracker 3 */}
                            <DiscreteTracker defaultTitle="作業項目 C" defaultInput="1, 3, 5, 8, 12" />

                            <div className="w-full h-px bg-white/10"></div>

                            {/* Tracker 4 */}
                            <DiscreteTracker defaultTitle="作業項目 D" defaultInput="2, 4, 6, 9" />
                        </BentoBox>

                    </div>
                </Section>
            );
        };

        // --- Main App ---

        const App = () => {
            return (
                <main className="bg-black w-full text-white selection:bg-neon-green selection:text-black">
                    <TitlePage />
                    <SummaryPage />
                    <RandomizerTool />
                    <HomeworkTool />
                </main>
            );
        };

        const root = ReactDOM.createRoot(document.getElementById('root'));
        root.render(<App />);
    </script>
</body>
</html>